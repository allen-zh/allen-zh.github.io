!function(e){function n(){t(),i()}function t(){v.onload=u;for(var e=1;4>=e;e++){var n="page"+e;v.add($("#"+n)),v[n].onload=a,v[n].preload=o,v[n].index=E.push(n)-1}v.page1.show()}function o(){var e=$("#"+this.key);c.call(this),e.addClass("page-loaded")}function a(){c.call(this,"load")}function c(){}function i(){d(document,function(e){r(e,function(e){e>0?f():h()},20)}),s(document,function(e,n){n?f():h()}),$(document).keydown(function(e){return 38==e.keyCode||37==e.keyCode?(f(v.current.key),!1):40==e.keyCode||39==e.keyCode?(h(v.current.key),!1):void 0}),k.click(function(){var e,n=$(this).data("page"),t=v[n],o=v.current,a=o.index;if(t)return e=t.index,e===a?!1:(e>a&&t&&l(n,"bottom"),a>e&&t&&l(n,"top"),!1)})}function u(){k.removeClass(y),k.each(function(){$(this).data("page")===v.current.key&&$(this).addClass(y)})}function d(e,n){e.addEventListener?(e.addEventListener("mousewheel",n,!1),e.addEventListener("DOMMouseScroll",n,!1)):e.attachEvent?e.attachEvent("onmousewheel",n):e.onmousewheel=n}function r(e,n,t){if(x){var e=window.event||e,o=Math.max(-1,Math.min(1,e.wheelDelta||-e.detail));p&&clearTimeout(p),t?p=setTimeout(function(){p=0,n(o)},t):n(o)}}function s(e,n){e.addEventListener&&(e.addEventListener("touchstart",function(e){if(e.preventDefault(),e.changedTouches.length){var n=e.changedTouches[0];g=n.pageX,m=n.pageY}},!1),e.addEventListener("touchend",function(e){if(e.preventDefault(),e.changedTouches.length){var t=e.changedTouches[0];n(t.pageX-g>0,t.pageY-m>0)}},!1))}function l(e,n){var t=v[e];t[n]&&t[n]()}function f(){var e=v.current.index;return e--,E[e]&&l(E[e],"top"),!1}function h(){var e=v.current.index;return e++,E[e]&&l(E[e],"bottom"),!1}var v=e.parallax;v.speed=300;var p,g,m,w=$(".js_control"),k=$(".point",w),y=(document.body.scrollTop,"current"),E=[],x=!0;e.page={init:n,onDown:h,onUp:f}}(window);